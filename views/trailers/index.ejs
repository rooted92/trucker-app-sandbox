<% layout('layouts/boilerplate') %>
    <div class="container flex-grow-1">
        <div class="container">
            <div
                class="d-flex justify-content-between align-items-center mb-4 mx-auto border-bottom border-primary border-opacity-25 pb-2">
                <h1 class="m-0">Trailers</h1>
                <a class="btn btn-primary" href="/trailers/new">Add New Trailer <i class="bi bi-plus"></i></a>
            </div>
            <table class="table table-dark">
                <thead>
                    <tr>
                        <th scope="col">Trailer #</th>
                        <th scope="col">Type</th>
                        <th scope="col">Length</th>
                        <th scope="col">Load Status</th>
                        <th scope="col">Cleanliness</th>
                        <th scope="col">Trailer Status</th>
                        <th scope="col">Yard</th>
                    </tr>
                </thead>
                <tbody>
                    <% for(let trailer of trailers){ %>
                        <tr>
                            <th scope="row"><a class="link-offset-2 link-underline link-underline-opacity-0 link-underline-opacity-75-hover" href="/trailers/<%= trailer._id %>">
                                    <%= trailer.number %>
                                </a></th>
                            <td>
                                <%= trailer.type %>
                            </td>
                            <td>
                                <%= trailer.length %>
                            </td>
                            <td>
                                <%= trailer.loadStatus %>
                            </td>
                            <td>
                                <%= trailer.cleanliness %>
                            </td>
                            <td class="<%= trailer.trailerStatus === 'Available' ?  'text-success' : 'text-light'; %>">
                                <%= trailer.trailerStatus %>
                            </td>
                            <td>
                                <%= !trailer.yard ? 'N/A' : trailer.yard.name %>
                            </td>
                        </tr>
                        <% } %>
                </tbody>
            </table>
        </div>
    </div>